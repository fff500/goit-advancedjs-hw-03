{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["export function fetchBreeds() {\n  const URL = 'https://api.thecatapi.com/v1/breeds';\n\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText || 'Error');\n    }\n\n    return response.json();\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  const BASE_URL = 'https://api.thecatapi.com/v1/images/search';\n  const API_KEY =\n    'live_IPYLEuO65I8syQXtu4lbGRYsVk4VTtkV5G3Csy4a7jLj5CtLAaSsXLN6ZHWBHv37';\n\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n    breed_ids: breedId,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText || 'Error');\n    }\n\n    return response.json();\n  });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst elements = {\n  select: document.querySelector('.breed-select'),\n  info: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n  error: document.querySelector('.error'),\n};\n\nelements.select.classList.add('display-none');\nelements.info.classList.add('display-none');\nelements.error.classList.add('display-none');\n\nelements.select.addEventListener('change', handleSelectChange);\n\nfetchBreeds()\n  .then(data => {\n    elements.select.innerHTML = data\n      .map(({ id, name }) => {\n        return `<option value=\"${id}\">${name}</option>`;\n      })\n      .join('');\n    elements.select.classList.remove('display-none');\n  })\n  .catch(error => {\n    console.error(error);\n    elements.error.classList.remove('display-none');\n  })\n  .finally(() => {\n    elements.loader.classList.add('display-none');\n  });\n\nfunction handleSelectChange(event) {\n  elements.info.classList.add('display-none');\n  elements.loader.classList.remove('display-none');\n\n  fetchCatByBreed(event.target.value)\n    .then(data => {\n      console.log(data);\n      elements.info.classList.remove('display-none');\n    })\n    .catch(error => {\n      console.error(error);\n      elements.error.classList.remove('display-none');\n    })\n    .finally(() => {\n      elements.loader.classList.add('display-none');\n    });\n}\n"],"names":["fetchBreeds","response","fetchCatByBreed","breedId","BASE_URL","API_KEY","params","elements","handleSelectChange","data","id","name","error","event"],"mappings":"ssBAAO,SAASA,GAAc,CAG5B,OAAO,MAFK,qCAEI,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,YAAc,OAAO,EAGhD,OAAOA,EAAS,MACpB,CAAG,CACH,CAEO,SAASC,EAAgBC,EAAS,CACvC,MAAMC,EAAW,6CACXC,EACJ,wEAEIC,EAAS,IAAI,gBAAgB,CACjC,QAASD,EACT,UAAWF,CACf,CAAG,EAED,OAAO,MAAM,GAAGC,KAAYE,GAAQ,EAAE,KAAKL,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,YAAc,OAAO,EAGhD,OAAOA,EAAS,MACpB,CAAG,CACH,CC3BA,MAAMM,EAAW,CACf,OAAQ,SAAS,cAAc,eAAe,EAC9C,KAAM,SAAS,cAAc,WAAW,EACxC,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,QAAQ,CACxC,EAEAA,EAAS,OAAO,UAAU,IAAI,cAAc,EAC5CA,EAAS,KAAK,UAAU,IAAI,cAAc,EAC1CA,EAAS,MAAM,UAAU,IAAI,cAAc,EAE3CA,EAAS,OAAO,iBAAiB,SAAUC,CAAkB,EAE7DR,EAAa,EACV,KAAKS,GAAQ,CACZF,EAAS,OAAO,UAAYE,EACzB,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,KACH,kBAAkBD,MAAOC,YACjC,EACA,KAAK,EAAE,EACVJ,EAAS,OAAO,UAAU,OAAO,cAAc,CACnD,CAAG,EACA,MAAMK,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBL,EAAS,MAAM,UAAU,OAAO,cAAc,CAClD,CAAG,EACA,QAAQ,IAAM,CACbA,EAAS,OAAO,UAAU,IAAI,cAAc,CAChD,CAAG,EAEH,SAASC,EAAmBK,EAAO,CACjCN,EAAS,KAAK,UAAU,IAAI,cAAc,EAC1CA,EAAS,OAAO,UAAU,OAAO,cAAc,EAE/CL,EAAgBW,EAAM,OAAO,KAAK,EAC/B,KAAKJ,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EAChBF,EAAS,KAAK,UAAU,OAAO,cAAc,CACnD,CAAK,EACA,MAAMK,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBL,EAAS,MAAM,UAAU,OAAO,cAAc,CACpD,CAAK,EACA,QAAQ,IAAM,CACbA,EAAS,OAAO,UAAU,IAAI,cAAc,CAClD,CAAK,CACL"}